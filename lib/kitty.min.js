(function(){window.Kitty={};Kitty.Model=function(b,d){var c=this;this.modelName=b;Kitty.Model[b]=function(e){this.modelProtoReference=c;this.objid=Math.round(Math.random()*1E8);this.init=function(){for(var a in Kitty.Model[b].defaults)this[a]=e.hasOwnProperty(a)?e[a]:Kitty.Model[b].defaults[a];Kitty.Model[c.modelName].views[this.objid]=[]};this.set=function(a,f){this[a]=f;this.notify()};this.get=function(a){return this[a]};this.remove=function(){for(var a in Kitty.Model[c.modelName].views[this.objid])Kitty.Model[c.modelName].views[this.objid][a].remove();
delete Kitty.Model[c.modelName].views[this.objid]};this.notify=function(){for(var a in Kitty.Model[c.modelName].views[this.objid])Kitty.Model[c.modelName].views[this.objid][a].render()};this.init()};Kitty.Model[b].views={};Kitty.Model[b].defaults=function(){var e={},a;for(a in d)e[a]=d[a];return e}();return Kitty.Model[b]};Kitty.View=function(b,d){Kitty.View[b]=function(c){var e=this;this.model=c;this.init=function(){for(var a in d)this[a]=d[a];Kitty.Model[this.model.modelProtoReference.modelName].views[this.model.objid].push(this);
this.el=document.createElement(d.tag);this.container.appendChild(this.el);return this};this.render=function(){this.el.innerHTML=this.template.render(this.model);d.events.call(e);return this};this.remove=function(){this.el.parentNode.removeChild(this.el)};this.init().render()};return Kitty.View[b]}})();
